{% extends '../base.html' %}
{% load static %}

<!-- ---------------------------------------------- -->
    {% block title %}
    Dashboard
    {% endblock title %}
<!-- --------------------------------------------- -->
    {% block header %}
    <link rel="stylesheet" type="text/css" href="{% static 'admin/assets/extra-libs/multicheck/multicheck.css'%}">
    <link href="{% static 'admin/assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.css'%}" rel="stylesheet">
    {% endblock header %}
<!-- ------------------------------------------- -->
    {% block stylesheet %}
  
   
    {% endblock stylesheet %}
<!-- ----------------------------------------------------- -->
    {% block content %}
      
    <div class="container-fluid">
        <!-- ============================================================== -->
        <!-- Sales Cards  -->
        <!-- ============================================================== -->
        <div class="row">
            <!-- Column -->
            <div class="col-md-6 col-lg-2 col-xlg-3">
                <div class="card card-hover">
                    <a href="#">
                    <div class="box bg-cyan text-center">
                        <h1 class="font-light text-white">{{ facilitators.count }}</h1>
                        <h6 class="text-white">Facilitator</h6>
                    </div>
                    </a>
                </div>
            </div>
            <!-- Column -->
            <div class="col-md-6 col-lg-4 col-xlg-3">
                <div class="card card-hover">
                    <a href="#">
                    <div class="box bg-success text-center">
                        <h1 class="font-light text-white">{{learners.count}}</h1>
                        <h6 class="text-white">learners</h6>
                    </div>
                    </a>
                </div>
            </div>
             <!-- Column -->
            <div class="col-md-6 col-lg-2 col-xlg-3">
                <div class="card card-hover">
                    <a href="#">
                        <div class="box bg-warning text-center">
                            <h1 class="font-light text-white">{{total_courses}}</h1>
                            <h6 class="text-white">Courses</h6>
                        </div>
                    </a>
                    
                </div>
            </div>
            <!-- Column -->
            <div class="col-md-6 col-lg-2 col-xlg-3">
                <div class="card card-hover">
                    <a href="#">
                    <div class="box bg-danger text-center">
                        
                        <h1 class="font-light text-white">{{total_course_orders}}</h1>
                        <h6 class="text-white">Orders</h6>
                    </div>
                    </a>
                </div>
            </div>
            <!-- Column -->
            <div class="col-md-6 col-lg-2 col-xlg-3">
                <div class="card card-hover">
                    <a href="#">
                    <div class="box bg-info text-center">
                        <h1 class="font-light text-white">{{total_active_queries}}</h1>
                        <h6 class="text-white">Queries</h6>
                    </div>
                    </a>
                </div>
            </div>
            <!-- Column -->
            <!-- Column -->
            <div class="col-md-6 col-lg-4 col-xlg-3">
                <div class="card card-hover">
                    <a href="#">
                    <div class="box bg-danger text-center">
                        <h1 class="font-light text-white">&#8377; {{total_revenue}}</h1>
                        <h6 class="text-white">Total Revenue</h6>
                    </div>
                    </a>
                </div>
            </div>
            <!-- Column -->
            <div class="col-md-6 col-lg-2 col-xlg-3">
                <div class="card card-hover">
                    <a href="#">

                    <div class="box bg-info text-center">
                        <h1 class="font-light text-white">&#8377; 12000</h1>
                        <h6 class="text-white">Profit</h6>
                    </div>
                    </a>
                </div>
            </div>
             <!-- Column -->
            <div class="col-md-6 col-lg-2 col-xlg-3">
                <div class="card card-hover">
                    <div class="box bg-cyan text-center">
                        <h1 class="font-light text-white">{{total_traingings}}</h1>
                        <h6 class="text-white">Training</h6>
                    </div>
                </div>
            </div>
            <!-- Column -->
            <div class="col-md-6 col-lg-2 col-xlg-3">
                <div class="card card-hover">
                    <a href="#">

                    <div class="box bg-success text-center">
                        <h1 class="font-light text-white">{{total_applicants}}</h1>
                        <h6 class="text-white">Requested Facilitator</h6>
                    </div>
                    </a>
                </div>
            </div>
            <!-- Column -->
            
            <!-- Column -->
        </div>
        <div class="container-fluid">
            <!-- ============================================================== -->
            <!-- Start Page Content -->
            <!-- ============================================================== -->
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Approved fascilitators</h5>
                            <div class="table-responsive">
                                <table id="zero_config" class="table table-striped table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Phone number</th>
                                            <th>Mail id</th>
                                            <th>Added on</th>
                                            <th>No of Course's</th>
                                          
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% if facilitators %}
                                        {% for facilitator in facilitators %}
                                        <tr>
                                            <th>{{facilitator.name}}</th>
                                            <th>{{facilitator.phone}}</th>
                                            <th>{{facilitator.user.user.email}}</th>
                                            <th>{{facilitator.added.date}}</th>
                                            <th>{{facilitator.getCoursesCount}}</th>
                                           
                                        </tr>
                                        {% endfor %}
                                        {% endif %}
                                    </tbody>
                                    
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- End PAge Content -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Right sidebar -->
            <!-- ============================================================== -->
            <!-- .right-sidebar -->
            <!-- ============================================================== -->
            <!-- End Right sidebar -->
            <!-- ============================================================== -->
        </div>

        <div class="container-fluid">
            <!-- ============================================================== -->
            <!-- Start Page Content -->
            <!-- ============================================================== -->
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Learners Datatable</h5>
                            <div class="table-responsive">
                                <table id="zero_config2" class="table table-striped table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Phone number</th>
                                            <th>Mail id</th>
                                            <th>Enrollment date</th>
                                            <th>Number of Enrolled Course's</th>
                                            
                                        </tr>
                                    </thead>
                                    <tbody>
                                    
                                        {% for enroll in  enrollments %}
                                        <tr>
                                            <th>{{enroll.Lid.name}}</th>
                                            <th>{{enroll.Lid.phone}}</th>
                                            <th>{{enroll.Lid.user.email}}</th>
                                            <th>{{enroll.addedenroll.date}}</th>
                                            <th>{{enroll.Lid.enrolled.all.count}}</th>
                                            
                                
                                        </tr>
                                        {% endfor %}
                                       
                                        
                                    </tbody>
                                    
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- End PAge Content -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Right sidebar -->
            <!-- ============================================================== -->
            <!-- .right-sidebar -->
            <!-- ============================================================== -->
            <!-- End Right sidebar -->
            <!-- ============================================================== -->
        </div>
    </div>
           
    {% endblock content %}
<!-- ------------------------------------------------- -->
    {% block javascript %}
    <script src="{% static 'admin/assets/extra-libs/multicheck/datatable-checkbox-init.js' %}"></script>
    <script src="{% static 'admin/assets/extra-libs/multicheck/jquery.multicheck.js' %}"></script>
    <script src="{% static 'admin/assets/extra-libs/DataTables/datatables.min.js' %}"></script>
    <script>
        /****************************************
         *       Basic Table                   *
         ****************************************/
        $('#zero_config').DataTable();
        $('#zero_config2').DataTable();
    </script>
    {% endblock javascript%}

